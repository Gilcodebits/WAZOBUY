{% extends 'base.html.twig' %}

{% block title %}Mes adresses - WAZOBUY{% endblock %}

{% block body %}
    <div class="addresses-container">
        <h1>Mes adresses</h1>

        <div class="actions-bar">
            <a href="{{ path('app_client_addresses_new') }}" class="add-address-btn">
                <i class="fas fa-plus"></i> Ajouter une nouvelle adresse
            </a>
        </div>

        {% if adresses|length > 0 %}
            <div class="addresses-list">
                {% for adresse in adresses %}
                    <div class="address-card">
                        <div class="address-header">
                            <h3>{{ adresse.nom }}</h3>
                            <span class="default-badge"{% if adresse.principal %} style="background-color: #007bff;"{% endif %}>
                                {{ adresse.principal ? 'Principal' : 'Secondaire' }}
                            </span>
                        </div>

                        <div class="address-details">
                            <p>{{ adresse.rue }}</p>
                            <p>{{ adresse.codePostal }} {{ adresse.ville }}</p>
                            <p>{{ adresse.pays }}</p>
                            <p>Téléphone : {{ adresse.telephone }}</p>
                        </div>

                        <div class="address-actions">
                            <a href="{{ path('app_client_addresses_edit', {'id': adresse.id}) }}" class="edit-btn">
                                <i class="fas fa-edit"></i> Modifier
                            </a>
                            <a href="{{ path('app_client_addresses_delete', {'id': adresse.id}) }}" class="delete-btn" onclick="return confirm('Êtes-vous sûr de vouloir supprimer cette adresse ?')">
                                <i class="fas fa-trash"></i> Supprimer
                            </a>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="no-addresses">
                <p>Aucune adresse enregistrée</p>
                <a href="{{ path('app_client_addresses_new') }}" class="add-address-btn">
                    Ajouter une première adresse
                </a>
            </div>
        {% endif %}
    </div>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('styles/addresses.css') }}">
{% endblock %}
