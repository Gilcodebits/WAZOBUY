{% extends 'base.html.twig' %}

{% block title %}Mes paiements - WAZOBUY{% endblock %}

{% block body %}
    <div class="payments-container">
        <h1>Mes paiements</h1>

        {% if paiements|length > 0 %}
            <div class="payments-list">
                {% for paiement in paiements %}
                    <div class="payment-card">
                        <div class="payment-header">
                            <h3>Paiement #{{ paiement.id }}</h3>
                            <span class="payment-date">{{ paiement.datePaiement|date('d/m/Y H:i') }}</span>
                        </div>

                        <div class="payment-details">
                            <div class="payment-amount">
                                <span class="amount-label">Montant :</span>
                                <span class="amount-value">{{ paiement.montant|number_format(2, ',', ' ') }} F cfa</span>
                            </div>

                            <div class="payment-method">
                                <span class="method-label">MÃ©thode :</span>
                                <span class="method-value">{{ paiement.methode|upper }}</span>
                            </div>

                            <div class="payment-status">
                                <span class="status-label">Statut :</span>
                                <span class="status-value {{ paiement.statut }}">
                                    {{ paiement.statut|upper }}
                                </span>
                            </div>

                            {% if paiement.commande %}
                                <div class="payment-order">
                                    <span class="order-label">Commande :</span>
                                    <a href="{{ path('app_commande_details', { 'id': paiement.commande.id }) }}" class="order-link">
                                        #{{ paiement.commande.id }}
                                    </a>
                                </div>
                            {% endif %}
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="no-payments">
                <p>Aucun paiement pour le moment</p>
                <a href="{{ path('app_home') }}" class="shop-now-btn">
                    Faire un achat
                </a>
            </div>
        {% endif %}
    </div>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('styles/payments.css') }}">
{% endblock %}
